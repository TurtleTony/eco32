
Notes
-----

1. Installing JTAG cable drivers under Ubuntu:
   a) When installing ISE, do NOT install any cable drivers.
   b) sudo apt-get install \
        gitk git-gui libusb-dev build-essential libc6-dev fxload
   c) git clone git://git.zerfleddert.de/usb-driver
   d) cd usb-driver
   e) make
   f) ./setup_pcusb /opt/Xilinx/14.5/ISE_DS/ISE/

2. The configuration bitstring for the FPGA is stored in the
   "Platform Flash PROM" (XCF04S). The board must therefore
   be jumpered for "Master Serial Mode" (all 3 jumpers set).

3. Here is the command which burns the configuration bitstring
   into the Platform Flash PROM:
      /opt/Xilinx/14.5/ISE_DS/ISE/bin/lin/impact -batch ./program.cmd

4. The machine monitor is stored in the "StrataFlash Parallel NOR
   Flash PROM", starting at address 0x000000. The ECO32 CPU can
   access the machine monitor at virtual address 0xE0000000. The
   monitor's size must not exceed 16 MB (the size of the Flash ROM).

5. In order to program the Flash ROM proceed as follows (very
   briefly, the FPGA is used as a Flash ROM programmer):
   a) Connect a serial cable to the starter board. This is needed
      in order to communicate with the flash programmer.
   b) Transfer the MCS file you wish to program into the flash ROM
      to the computer to which the serial cable is connected.
   c) Start a serial communication program (e.g. minicom) on the
      computer at the other end of the serial cable. The communication
      parameters must be set as follows:
         - choose the serial port to which the cable is connected
           (this is /dev/??? on my computer)
         - 115200 baud
         - 8 bits, no parity, 1 stop bit ("8N1")
         - software flow control ("XON/XOFF protocol")
         - line wrap on (otherwise you won't see all chars of long lines)
         - add linefeed on (the programmer sends CR, but not LF)
         - local echo off (the programmer does echo itself)
   d) Here is the command that loads the FPGA with the programmer:
         /opt/Xilinx/14.5/ISE_DS/ISE/bin/lin/impact -batch ./flash-500.cmd
   e)
   f)

